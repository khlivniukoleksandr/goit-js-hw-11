{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '52958686-1557e7ea2156d90b306934aa7';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\naxios.defaults.params = {\n  key: API_KEY,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nexport const getImagesByQuery = query => {\n  return axios\n    .get('', {\n      params: {\n        q: query,\n      },\n    })\n    .then(response => response.data)\n    .catch(error => console.log(error));\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst listImg = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst createMarkup = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img \n                    class=\"gallery-image\"\n                    src=\"${webformatURL}\" \n                    alt=\"${tags}\" \n                    width=\"360\"\n                    height=\"200\"\n                />\n            </a>\n            <div class=\"info flex\">\n                <p class=\"info-item\"><strong>Likes</strong> ${likes}</p>\n                <p class=\"info-item\"><strong>Views</strong> ${views}</p>\n                <p class=\"info-item\"><strong>Comments</strong> ${comments}</p>\n                <p class=\"info-item\"><strong>Downloads</strong> ${downloads}</p>\n            </div>\n        </li>\n    `;\n};\n\nexport const clearGallery = () => {\n  if (listImg) {\n    listImg.innerHTML = '';\n  }\n};\n\nexport const createGallery = images => {\n  if (!listImg) {\n    return;\n  }\n  const markup = images.map(createMarkup).join('');\n  listImg.innerHTML = markup;\n  gallery.refresh();\n};\n\nexport const showLoader = () => {\n  loader.classList.remove('hidden');\n};\n\nexport const hideLoader = () => {\n  loader.classList.add('hidden');\n};\n\nlet gallery = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n  clearGallery,\n  createGallery,\n  hideLoader,\n  showLoader,\n} from './js/render-functions';\n\nconst searchForm = document.querySelector('.form');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const query = event.target.elements['search-text'].value.trim();\n\n  if (query === '') {\n    iziToast.error({\n      message: 'Search field cannot be empty!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(query)\n    .then(data => {\n      console.log(data);\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      } else {\n        createGallery(data.hits);\n      }\n    })\n    .catch(error => {\n      console.error('Request failed:', error);\n      iziToast.error({\n        message:\n          'Failed to fetch images. Please check your network connection.',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n      event.target.reset();\n    });\n});\n"],"names":["API_KEY","axios","getImagesByQuery","query","response","error","listImg","loader","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","createGallery","images","markup","gallery","showLoader","hideLoader","SimpleLightbox","searchForm","event","iziToast","data"],"mappings":"owBAEA,MAAMA,EAAU,qCAEhBC,EAAM,SAAS,QAAU,2BACzBA,EAAM,SAAS,OAAS,CACtB,IAAKD,EACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEO,MAAME,EAAmBC,GACvBF,EACJ,IAAI,GAAI,CACP,OAAQ,CACN,EAAGE,CACJ,CACP,CAAK,EACA,KAAKC,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,ECjBhCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAe,CAAC,CACpB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACS;AAAA;AAAA,4CAEmCL,CAAa;AAAA;AAAA;AAAA,2BAG9BD,CAAY;AAAA,2BACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8DAM+BC,CAAK;AAAA,8DACLC,CAAK;AAAA,iEACFC,CAAQ;AAAA,kEACPC,CAAS;AAAA;AAAA;AAAA,MAM9DC,EAAe,IAAM,CAC5BV,IACFA,EAAQ,UAAY,GAExB,EAEaW,EAAgBC,GAAU,CACrC,GAAI,CAACZ,EACH,OAEF,MAAMa,EAASD,EAAO,IAAIV,CAAY,EAAE,KAAK,EAAE,EAC/CF,EAAQ,UAAYa,EACpBC,EAAQ,QAAO,CACjB,EAEaC,EAAa,IAAM,CAC9Bd,EAAO,UAAU,OAAO,QAAQ,CAClC,EAEae,EAAa,IAAM,CAC9Bf,EAAO,UAAU,IAAI,QAAQ,CAC/B,EAEA,IAAIa,EAAU,IAAIG,EAAe,aAAc,CAC7C,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,ECrDD,MAAMC,EAAa,SAAS,cAAc,OAAO,EAEjDA,EAAW,iBAAiB,SAAUC,GAAS,CAC7CA,EAAM,eAAc,EACpB,MAAMtB,EAAQsB,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAEzD,GAAItB,IAAU,GAAI,CAChBuB,EAAS,MAAM,CACb,QAAS,gCACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDV,IACAK,IAEAnB,EAAiBC,CAAK,EACnB,KAAKwB,GAAQ,CACZ,QAAQ,IAAIA,CAAI,EACZA,EAAK,KAAK,SAAW,EACvBD,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EAEDT,EAAcU,EAAK,IAAI,CAE/B,CAAK,EACA,MAAMtB,GAAS,CACd,QAAQ,MAAM,kBAAmBA,CAAK,EACtCqB,EAAS,MAAM,CACb,QACE,gEACF,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbJ,IACAG,EAAM,OAAO,OACnB,CAAK,CACL,CAAC"}